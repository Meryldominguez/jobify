(this.webpackJsonpjobly=this.webpackJsonpjobly||[]).push([[0],{107:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(32),s=a.n(c),o=(a(73),a(8)),i=a(14),u=(a(74),a(10)),l=a(6),j=a.n(l),b=a(7),p=a(44),d=a(58),h=a(59),x=a(60),O=a.n(x),m="https://meryl-jobify.herokuapp.com/",f=function(){function e(){Object(d.a)(this,e)}return Object(h.a)(e,null,[{key:"request",value:function(){var t=Object(b.a)(j.a.mark((function t(a){var n,r,c,s,o,i,u=arguments;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=u.length>1&&void 0!==u[1]?u[1]:{},r=u.length>2&&void 0!==u[2]?u[2]:"get",console.debug("API Call:",a,n,r),c="".concat(m,"/").concat(a),s={Authorization:"Bearer ".concat(e.token)},o="get"===r?n:{},t.prev=6,t.next=9,O()({url:c,method:r,data:n,params:o,headers:s});case 9:return t.abrupt("return",t.sent.data);case 12:throw t.prev=12,t.t0=t.catch(6),console.error("API Error:",t.t0),i=t.t0.response.data.error.message,Array.isArray(i)?i:[i];case 17:case"end":return t.stop()}}),t,null,[[6,12]])})));return function(e){return t.apply(this,arguments)}}()},{key:"getCompany",value:function(){var e=Object(b.a)(j.a.mark((function e(t){var a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.request("companies/".concat(t));case 2:return a=e.sent,e.abrupt("return",a.company);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getJob",value:function(){var e=Object(b.a)(j.a.mark((function e(t){var a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.request("jobs/".concat(t));case 2:return a=e.sent,e.abrupt("return",a.job);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getCompanies",value:function(){var e=Object(b.a)(j.a.mark((function e(){var t,a,n=arguments;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.length>0&&void 0!==n[0]?n[0]:"",e.next=3,this.request("companies".concat(t));case 3:return a=e.sent,e.abrupt("return",a.companies);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getJobs",value:function(){var e=Object(b.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.request("jobs/");case 2:return t=e.sent,e.abrupt("return",t.jobs);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Login",value:function(){var e=Object(b.a)(j.a.mark((function e(t){var a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.request("auth/token",t,"post");case 2:return(a=e.sent).username=t.username,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Signup",value:function(){var e=Object(b.a)(j.a.mark((function e(t){var a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.request("auth/register",t,"post");case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getProfile",value:function(){var t=Object(b.a)(j.a.mark((function t(a){var n;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.token=window.localStorage.token,t.next=3,this.request("users/".concat(a));case 3:return n=t.sent,t.abrupt("return",n);case 5:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"patchProfile",value:function(){var t=Object(b.a)(j.a.mark((function t(a,n){var r,c;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.password,r=Object(p.a)(n,["password"]),e.token=window.localStorage.token,t.next=4,this.request("users/".concat(a),r,"patch");case 4:return c=t.sent,t.abrupt("return",c);case 6:case"end":return t.stop()}}),t,this)})));return function(e,a){return t.apply(this,arguments)}}()},{key:"apply",value:function(){var t=Object(b.a)(j.a.mark((function t(a,n){var r;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.token=window.localStorage.token,t.next=3,this.request("users/".concat(a,"/jobs/").concat(n),{},"post");case 3:return r=t.sent,t.abrupt("return",r);case 5:case"end":return t.stop()}}),t,this)})));return function(e,a){return t.apply(this,arguments)}}()}]),e}(),v=function(){var e=Object(n.useState)(),t=Object(o.a)(e,2),a=t[0],r=t[1];Object(n.useEffect)((function(){if(window.localStorage.username)return r(window.localStorage),void(f.token=window.localStorage.token);r()}),[a]);return[a,function(){var e=Object(b.a)(j.a.mark((function e(t){var a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.Signup(t);case 2:return(a=e.sent).error||(window.localStorage.setItem("username",a.username),window.localStorage.setItem("token",a.token)),e.abrupt("return",a.error);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),function(){var e=Object(b.a)(j.a.mark((function e(t){var a,n,c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.username,n=t.password,e.next=3,f.Login({username:a,password:n});case 3:if(c=e.sent,console.log(c),c.error){e.next=11;break}return f.token=c.token,window.localStorage.setItem("username",c.username),window.localStorage.setItem("token",c.token),r(Object(u.a)(Object(u.a)({},c),{},{username:a})),e.abrupt("return");case 11:return e.abrupt("return",c.error);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),function(){window.localStorage.clear(),r(),window.open("/","_self")}]},g=function(){var e=Object(n.useState)(),t=Object(o.a)(e,2),a=t[0],r=t[1];return Object(n.useEffect)((function(){function e(){return(e=Object(b.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.getJobs();case 2:return t=e.sent,r(t),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}a||function(){e.apply(this,arguments)}()}),[a]),[a,r]},y=a(118),w=a(120),k=r.a.createContext(),N=a(1);var C=function(e){var t=e.logout,a=Object(n.useContext)(k),r=a.user,c=a.isLoading;return Object(N.jsxs)(y.a,{bg:"light",expand:"md",children:[Object(N.jsx)(y.a.Brand,{as:i.b,to:"/",children:"Jobify"}),Object(N.jsx)(y.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(N.jsx)(y.a.Collapse,{id:"basic-navbar-nav",children:Object(N.jsx)(w.a,{className:"ml-auto",children:r&&!c?Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(w.a.Link,{as:i.b,to:"/companies",children:"Companies"}),Object(N.jsx)(w.a.Link,{as:i.b,to:"/jobs",children:"Jobs"}),Object(N.jsx)(w.a.Link,{as:i.b,to:"/profile",children:"Profile"}),Object(N.jsx)(w.a.Link,{onClick:t,children:"Logout"})]}):Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(w.a.Link,{as:i.b,to:"/login",children:"Login"}),Object(N.jsx)(w.a.Link,{as:i.b,to:"/signup",children:"Signup"})]})})})]})},S=a(21),P=a(119),A=a(121),L=function(e){var t=e.alerts,a=e.setAlerts;return Object(n.useEffect)((function(){var e=setTimeout((function(){var e=t.slice(1);a(e)}),5e3);return function(){return clearTimeout(e)}}),[t,a]),Object(N.jsx)("div",{children:t.map((function(e){return Object(N.jsx)(A.a,{variant:e.variant,children:e.msg},Object(P.a)())}))})},q=r.a.createContext(),B=a(9),E=a(116),I=a(112),T=a(122),F=a(113),J=a(114),G=a(22),U=a(64),D=a.n(U),H=a(117),z=a(67),R=a(65),W=a(109),Y=a(66),M=a(110),_=function(e){var t=e.search,a=Object(n.useState)({name:""}),r=Object(o.a)(a,2),c=r[0],s=r[1],i=function(){var e=Object(b.a)(j.a.mark((function e(a){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.preventDefault(),""!==c.name?t("?".concat(D.a.stringify(c))):t("");case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(N.jsx)(H.a,{onSubmit:i,children:Object(N.jsx)(z.a,{children:Object(N.jsx)(R.a,{children:Object(N.jsxs)(W.a,{className:"mb-3",children:[Object(N.jsx)(Y.a,{placeholder:"...","aria-label":"Search companies","aria-describedby":"basic-addon2",name:"name",value:c.search,onChange:function(e){var t=e.target,a=t.name,n=t.value;s(Object(u.a)(Object(u.a)({},c),{},Object(G.a)({},a,n)))}}),Object(N.jsx)(W.a.Append,{children:Object(N.jsx)(M.a,{onClick:i,variant:"outline-secondary",children:"Search"})})]})})})})},K=a(111),Q=function(){return Object(N.jsx)(K.a,{animation:"border",role:"status",className:"my-5",children:Object(N.jsx)("span",{className:"sr-only",children:"Loading..."})})},V=function(){var e=function(){var e=Object(n.useState)(""),t=Object(o.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)(!0),s=Object(o.a)(c,2),i=s[0],u=s[1],l=Object(n.useState)(),p=Object(o.a)(l,2),d=p[0],h=p[1];return Object(n.useEffect)((function(){function e(){return(e=Object(b.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.getCompanies(a);case 2:return t=e.sent,h(t),u(!1),e.abrupt("return",t);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[a]),[d,i,function(e){u(!0),r(e)}]}(),t=Object(o.a)(e,3),a=t[0],r=t[1],c=t[2];return Object(N.jsxs)(N.Fragment,{children:[Object(N.jsxs)("div",{col:8,className:"mx-auto my-4",children:[Object(N.jsx)("h3",{children:"Companies"}),Object(N.jsx)(_,{search:function(e){return c(e)}})]}),r&&Object(N.jsx)(Q,{}),a&&Object(N.jsx)(I.a,{children:a.map((function(e){return Object(N.jsx)(I.a.Item,{as:i.b,to:"/companies/".concat(e.handle),children:Object(N.jsx)(T.a,{children:Object(N.jsxs)(T.a.Body,{children:[Object(N.jsxs)(T.a.Title,{className:"text-left",children:[e.name,Object(N.jsx)(F.a,{as:J.a,src:e.logoUrl})]}),Object(N.jsx)(T.a.Text,{children:e.description})]})})},Object(P.a)())}))}),!r&&0===a.length&&Object(N.jsx)("h3",{children:"No companies were found for your search"})]})},X=a(115),Z=a(68),$=function(e){var t=e.id,a=e.title,r=e.companyHandle,c=e.companyName,s=e.salary,o=e.equity,u=e.withApplyButton,l=void 0!==u&&u,p=Object(n.useContext)(k),d=p.apply,h=p.profile,x=Object(n.useContext)(q),O=x.alerts,m=x.setAlerts,f=function(){var e=Object(b.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log(t),e.next=4,d(t);case 4:m([].concat(Object(S.a)(O),[{variant:"success",msg:c?"Applied to ".concat(a," at ").concat(c,"."):"Applied to ".concat(a," Job.")}])),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),m([e.t0.map((function(e){return e.includes("No job")&&(e="There was a problem with applying to that job. Please try again later."),{variant:"danger",msg:e}}))].concat(Object(S.a)(O)));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();return Object(N.jsx)(T.a,{children:Object(N.jsxs)(T.a.Body,{children:[console.log(l),Object(N.jsx)(T.a.Title,{className:"text-left",children:a}),Object(N.jsx)(T.a.Subtitle,{className:"text-left",children:r?Object(N.jsx)(i.b,{to:"/companies/".concat(r),children:c}):c}),Object(N.jsxs)(X.a,{className:"p-2 row card-text",children:[Object(N.jsxs)(z.a,{children:[Object(N.jsxs)(X.a,{children:["Salary: ",s||"No Salary"]}),Object(N.jsxs)(X.a,{children:["Equity: ",o||"0"]})]}),Object(N.jsx)(z.a,{md:5,children:l&&(h.applications.includes(t)?Object(N.jsx)(M.a,{size:"lg",className:"p-2 mt-2",variant:"secondary",block:!0,disabled:!0,children:"Applied!"}):Object(N.jsx)(M.a,{size:"lg",className:"p-2 mt-2",block:!0,onClick:f,children:"Apply"}))})]})]})})},ee=function(){var e=Object(B.h)().handle,t=function(e){var t=Object(n.useState)(),a=Object(o.a)(t,2),r=a[0],c=a[1];return Object(n.useEffect)((function(){function t(){return(t=Object(b.a)(j.a.mark((function t(){var a;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,f.getCompany(e);case 2:return a=t.sent,c(a),t.abrupt("return",a);case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[e]),[r]}(e),a=Object(o.a)(t,1)[0],r=Object(n.useContext)(k).profile;return Object(N.jsx)(N.Fragment,{children:a&&e&&r?Object(N.jsx)(T.a,{children:Object(N.jsxs)(T.a.Body,{children:[Object(N.jsxs)(X.a,{children:[Object(N.jsxs)(z.a,{xs:10,children:[Object(N.jsxs)(T.a.Title,{className:"text-left",children:[a.name,Object(N.jsx)(F.a,{as:J.a,src:a.logoUrl})]}),Object(N.jsx)(T.a.Text,{className:"text-left",children:a.description})]}),Object(N.jsx)(z.a,{children:Object(N.jsx)(J.a,{src:a.logoUrl})})]}),Object(N.jsx)(I.a,{children:a.jobs.map((function(e){e.companyHandle;var t=Object(p.a)(e,["companyHandle"]);return Object(N.jsxs)(Z.a,{children:[console.log(t),Object(N.jsx)($,Object(u.a)({withApplyButton:!0},t))]},Object(P.a)())}))})]})}):Object(N.jsx)(Q,{})})},te=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=Object(n.useContext)(k),a=t.profile,r=g(),c=Object(o.a)(r,2),s=c[0],i=c[1];return s&&a?Object(N.jsx)(I.a,{m:8,l:6,children:s.map((function(t){return Object(N.jsx)(I.a.Item,{className:"",children:Object(N.jsx)($,Object(u.a)({withApplyButton:e,reload:i},t))},Object(P.a)())}))}):Object(N.jsx)(Q,{})},ae=function(){var e=Object(n.useContext)(k),t=e.user,a=e.profile,r=e.authProfile,c=e.isLoading,s=e.updateProfile,i=e.setProfile,l=Object(n.useState)(a),p=Object(o.a)(l,2),d=p[0],h=p[1],x=Object(n.useState)(!1),O=Object(o.a)(x,2),m=O[0],f=O[1],v=Object(n.useContext)(q),g=v.alerts,y=v.setAlerts;Object(n.useEffect)((function(){var e,t,n;a&&(e=a.email,t=a.firstName,n=a.lastName),h({email:e,firstName:t,lastName:n,password:""})}),[a]);var w=function(){var e=Object(b.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),e.prev=1,d.password){e.next=4;break}throw Array("Password required to confirm changes!");case 4:return e.next=6,r(d.password);case 6:if(!e.sent){e.next=10;break}return e.next=9,s(d);case 9:h(Object(u.a)(Object(u.a)({},d),{},{password:""}));case 10:y([].concat(Object(S.a)(g),[{variant:"success",msg:"Profile updated!"}])),e.next=18;break;case 13:e.prev=13,e.t0=e.catch(1),console.log("handle",e.t0),h(Object(u.a)(Object(u.a)({},d),{},{password:""})),y([].concat(Object(S.a)(g),[{variant:"danger",msg:e.t0}]));case 18:case"end":return e.stop()}}),e,null,[[1,13]])})));return function(t){return e.apply(this,arguments)}}(),C=function(e){var t=e.target,n=t.name,r=t.value;h(Object(u.a)(Object(u.a)({},d),{},Object(G.a)({},n,r))),a.email===d.email&&a.firstName===d.firstName&&a.lastName===d.lastName?f(!0):f(!1)};return Object(N.jsx)(N.Fragment,{children:!c&&a?Object(N.jsx)(z.a,{xs:8,className:"m-auto",children:Object(N.jsxs)(T.a,{className:"p-3 my-5",children:[Object(N.jsxs)("h4",{children:[a.username,"'s profile"]}),Object(N.jsxs)(H.a,{onSubmit:w,className:"my-4",children:[Object(N.jsx)(H.a.Group,{controlId:"formBasicEmail",children:Object(N.jsx)(H.a.Control,{required:!0,type:"email",placeholder:"Enter email",name:"email",value:d.email,onChange:C})}),Object(N.jsx)(H.a.Group,{controlId:"formBasicUsername",children:Object(N.jsx)(H.a.Control,{disabled:!0,type:"text",placeholder:t.username,name:"username",onChange:C})}),Object(N.jsx)(H.a.Group,{children:Object(N.jsxs)(X.a,{children:[Object(N.jsx)(z.a,{children:Object(N.jsx)(H.a.Control,{required:!0,type:"text",placeholder:"First Name",name:"firstName",value:d.firstName,onChange:C})}),Object(N.jsx)(z.a,{children:Object(N.jsx)(H.a.Control,{required:!0,type:"text",placeholder:"Last Name",name:"lastName",value:d.lastName,onChange:C})})]})}),Object(N.jsxs)(H.a.Group,{controlId:"formBasicPassword",children:[Object(N.jsx)(H.a.Control,{type:"password",placeholder:"Password",name:"password",value:d.password,onChange:C}),Object(N.jsx)(H.a.Text,{className:"text-muted text-left",children:"Confirm any changes with your password."})]}),Object(N.jsxs)(X.a,{children:[Object(N.jsx)(z.a,{xs:8,children:m?Object(N.jsx)(M.a,{variant:"primary",block:!0,type:"submit",children:"Edit Profile"}):Object(N.jsx)(M.a,{variant:"primary",disabled:!0,block:!0,type:"submit",children:"Edit Profile"})}),Object(N.jsx)(z.a,{xs:4,children:Object(N.jsx)(M.a,{variant:"danger",block:!0,onClick:function(){var e=a.email,t=a.firstName,n=a.lastName;h({email:e,firstName:t,lastName:n,password:""}),i(Object(u.a)({},a))},children:"Reset"})})]})]})]})}):Object(N.jsx)(Q,{})})},ne=function(e){var t=e.username;return Object(N.jsxs)(B.d,{children:[Object(N.jsx)(B.b,{exact:!0,path:"/",children:Object(N.jsxs)(E.a,{children:[Object(N.jsxs)("h1",{children:["Hello, ",t]}),Object(N.jsx)("p",{children:"Apply for jobs! Make money"}),Object(N.jsx)(i.b,{className:"btn btn-primary btn-lg mx-2",to:"/companies",children:" Companies"}),Object(N.jsx)(i.b,{className:"btn btn-primary btn-lg mx-2",to:"/jobs",children:" Jobs "})]})}),Object(N.jsx)(B.b,{exact:!0,path:"/companies/:handle",component:ee}),Object(N.jsx)(B.b,{exact:!0,path:"/companies",component:V}),Object(N.jsx)(B.b,{exact:!0,path:"/jobs",component:te}),Object(N.jsx)(B.b,{exact:!0,path:"/profile",children:Object(N.jsx)(ae,{})}),Object(N.jsx)(B.a,{to:"/"})]})},re=function(e){var t=e.login,a=Object(B.g)(),r=Object(n.useContext)(q),c=r.alerts,s=r.setAlerts,i=Object(n.useState)({username:"",password:""}),l=Object(o.a)(i,2),p=l[0],d=l[1],h=function(){var e=Object(b.a)(j.a.mark((function e(n){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.prev=1,e.next=4,t(p);case 4:s([].concat(Object(S.a)(c),[{variant:"success",msg:"You have successfully logged in!"}])),a.push("/"),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),d({username:"",password:""}),s(e.t0.map((function(t){return Object(S.a)(e.t0).push({variant:"danger",msg:t})})));case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),x=function(e){var t=e.target,a=t.name,n=t.value;d(Object(u.a)(Object(u.a)({},p),{},Object(G.a)({},a,n)))};return Object(N.jsx)(z.a,{xs:8,className:"m-auto",children:Object(N.jsxs)(T.a,{className:"p-3 my-5",children:[Object(N.jsx)("h4",{children:"Login to your Jobify account:"}),Object(N.jsxs)(H.a,{onSubmit:h,className:"my-3",children:[Object(N.jsx)(H.a.Group,{controlId:"formBasicUsername",children:Object(N.jsx)(H.a.Control,{type:"text",placeholder:"Enter username",name:"username",value:p.username,onChange:x})}),Object(N.jsx)(H.a.Group,{controlId:"formBasicPassword",children:Object(N.jsx)(H.a.Control,{type:"password",placeholder:"Password",name:"password",value:p.password,onChange:x})}),Object(N.jsx)(M.a,{variant:"primary",type:"submit",children:"Login"})]})]})})},ce=function(e){var t=e.signup,a={username:"",firstName:"",lastName:"",email:"",password:""},r=Object(n.useState)(a),c=Object(o.a)(r,2),s=c[0],i=c[1],l=function(){var e=Object(b.a)(j.a.mark((function e(a){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.preventDefault(),t(s);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),p=function(e){var t=e.target,a=t.name,n=t.value;i(Object(u.a)(Object(u.a)({},s),{},Object(G.a)({},a,n)))};return Object(N.jsx)(z.a,{xs:8,className:"m-auto",children:Object(N.jsxs)(T.a,{className:"p-3 my-5",children:[Object(N.jsx)("h4",{children:"Sign up for Jobify!"}),Object(N.jsxs)(H.a,{onSubmit:l,className:"my-4",children:[Object(N.jsxs)(H.a.Group,{controlId:"formBasicEmail",children:[Object(N.jsx)(H.a.Control,{required:!0,type:"email",placeholder:"Enter email",name:"email",value:s.email,onChange:p}),Object(N.jsx)(H.a.Text,{className:"text-muted text-left",children:"We'll never share your email with anyone else."})]}),Object(N.jsxs)(H.a.Group,{controlId:"formBasicUsername",children:[Object(N.jsx)(H.a.Control,{required:!0,type:"text",placeholder:"Enter username",name:"username",value:s.username,onChange:p}),Object(N.jsx)(H.a.Text,{className:"text-muted text-left",children:"You will log in with this."})]}),Object(N.jsxs)(H.a.Group,{controlId:"formBasicPassword",children:[Object(N.jsx)(H.a.Control,{required:!0,type:"password",placeholder:"Password",name:"password",value:s.password,onChange:p}),Object(N.jsx)(H.a.Text,{className:"text-muted text-left",children:"You should choose a good password."})]}),Object(N.jsxs)(H.a.Group,{children:[Object(N.jsxs)(X.a,{children:[Object(N.jsx)(z.a,{children:Object(N.jsx)(H.a.Control,{required:!0,type:"text",placeholder:"First Name",name:"firstName",value:s.firstName,onChange:p})}),Object(N.jsx)(z.a,{children:Object(N.jsx)(H.a.Control,{required:!0,type:"text",placeholder:"Last Name",name:"lastName",value:s.lastName,onChange:p})})]}),Object(N.jsx)(H.a.Text,{className:"text-muted text-left",children:"We need your name so you can apply to jobs!."})]}),Object(N.jsxs)(X.a,{children:[Object(N.jsx)(z.a,{xs:9,children:Object(N.jsx)(M.a,{variant:"primary",block:!0,type:"submit",children:"Signup"})}),Object(N.jsx)(z.a,{xs:3,children:Object(N.jsx)(M.a,{variant:"danger",block:!0,onClick:function(){return i(a)},children:"Reset"})})]})]})]})})},se=function(){var e=Object(n.useContext)(k),t=e.login,a=e.signup;return Object(N.jsxs)(B.d,{children:[Object(N.jsx)(B.b,{exact:!0,path:"/",children:Object(N.jsxs)(E.a,{children:[Object(N.jsx)("h1",{children:"Welcome!"}),Object(N.jsx)("p",{children:"Sign up or login to apply for jobs!"}),Object(N.jsx)(i.b,{className:"btn btn-primary btn-lg mx-2",to:"/login",children:" Login "}),Object(N.jsx)(i.b,{className:"btn btn-primary btn-lg mx-2",to:"/signup",children:" Signup "})]})}),Object(N.jsx)(B.b,{exact:!0,path:"/login",children:Object(N.jsx)(re,{login:function(e){return t(e)}})}),Object(N.jsx)(B.b,{exact:!0,path:"/signup",children:Object(N.jsx)(ce,{signup:function(e){return a(e)}})}),Object(N.jsx)(B.a,{to:"/"})]})};var oe=function(e){var t=e.user,a=Object(n.useContext)(q),r=a.alerts,c=a.setAlerts;return Object(N.jsxs)("div",{className:"Content-Container",children:[Object(N.jsx)(L,{alerts:Object(S.a)(r),setAlerts:c}),t?Object(N.jsx)(ne,{username:t.username}):Object(N.jsx)(se,{})]})};var ie=function(){var e=v(),t=Object(o.a)(e,4),a=t[0],r=t[1],c=t[2],s=t[3],u=function(e){var t=Object(n.useState)(),a=Object(o.a)(t,2),r=a[0],c=a[1],s=Object(n.useState)(!0),i=Object(o.a)(s,2),u=i[0],l=i[1];Object(n.useEffect)((function(){function t(){return(t=Object(b.a)(j.a.mark((function t(){var a;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,f.getProfile(e);case 2:return a=t.sent,c(a.user),l(!1),t.abrupt("return",a);case 6:case"end":return t.stop()}}),t)})))).apply(this,arguments)}l(!0),e&&function(){t.apply(this,arguments)}(),l(!1)}),[e,u]);var p=function(){var t=Object(b.a)(j.a.mark((function t(a){var n;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,f.patchProfile(e,a);case 2:return n=t.sent,c(n.user),t.abrupt("return",n);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return[[r,c],u,function(){var t=Object(b.a)(j.a.mark((function t(a){var n;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,f.Login({username:e,password:a});case 2:return n=t.sent,t.abrupt("return",!!n.token);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),p,function(){var t=Object(b.a)(j.a.mark((function t(a){var n;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,f.apply(e,a);case 2:return n=t.sent,l(!0),t.abrupt("return",n);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()]}(a?a.username:void 0),l=Object(o.a)(u,5),p=Object(o.a)(l[0],2),d=p[0],h=p[1],x=l[1],O=l[2],m=l[3],g=l[4],y=Object(n.useState)([]),w=Object(o.a)(y,2),S=w[0],P=w[1];return!x&&Object(N.jsx)("div",{className:"App",children:Object(N.jsxs)(k.Provider,{value:{user:a,signup:r,login:c,profile:d,setProfile:h,isLoading:x,authProfile:O,updateProfile:m,apply:g},children:[console.log("USER:",Boolean(a),"Profile:",d,"Loading:",x),Object(N.jsx)(q.Provider,{value:{alerts:S,setAlerts:P},children:Object(N.jsx)(i.a,{children:Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(C,{logout:s}),Object(N.jsx)(oe,{user:a})]})})})]})})},ue=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,123)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,c=t.getLCP,s=t.getTTFB;a(e),n(e),r(e),c(e),s(e)}))};a(106);s.a.render(Object(N.jsx)(r.a.StrictMode,{children:Object(N.jsx)(ie,{})}),document.getElementById("root")),ue()},73:function(e,t,a){},74:function(e,t,a){}},[[107,1,2]]]);
//# sourceMappingURL=main.504f9208.chunk.js.map